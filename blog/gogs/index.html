<!DOCTYPE HTML>
<html lang="es">
    <head>
        
        <script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "Gogs | Self-Hosted Git",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://rlodeiro.info"
  },
  "inLanguage" : "es-ES",
  "articleSection" : "blog",
  
  "genre": "post",
  "keywords": "GO, Control de versiones, Proyectos, git, Golang",
  "wordcount":  743 ,
  "url": "https://rlodeiro.info/blog/gogs/",
  "datePublished": "2018-10-07",
  "dateModified": "2018-10-07",
  "license": "© 2024 Roberto Lodeiro",
  "copyrightHolder" : "Roberto Lodeiro",
  "copyrightYear" : "2018",
  
  "author" : "Roberto Lodeiro",
  "description": "Tu propio servicio de hospedaje para repositorios Git"
}
</script>
        
            
                <title>Gogs | Self-Hosted Git | Roberto Lodeiro</title>
            
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="shortcut icon" href="https://rlodeiro.info/favicon.ico?v=kPP08pKEXB">


        
            <meta name="author" content="Roberto Lodeiro">
        
        
            <meta name="description" content="Tu propio servicio de hospedaje para repositorios Git">
        

        <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://rlodeiro.info/img/posts/2018/10/gogs/gogs.jpg"/>

<meta name="twitter:title" content="Gogs | Self-Hosted Git"/>
<meta name="twitter:description" content="Tu propio servicio de hospedaje para repositorios Git"/>
<meta name="twitter:site" content="@lodeiro0001"/>

        <meta property="og:title" content="Gogs | Self-Hosted Git" />
<meta property="og:description" content="Tu propio servicio de hospedaje para repositorios Git" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://rlodeiro.info/blog/gogs/" /><meta property="og:image" content="https://rlodeiro.info/img/posts/2018/10/gogs/gogs.jpg" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2018-10-07T00:00:00+00:00" />
<meta property="article:modified_time" content="2018-10-07T00:00:00+00:00" />

        
        <meta itemprop="name" content="Gogs | Self-Hosted Git">
<meta itemprop="description" content="Tu propio servicio de hospedaje para repositorios Git"><meta itemprop="datePublished" content="2018-10-07T00:00:00+00:00" />
<meta itemprop="dateModified" content="2018-10-07T00:00:00+00:00" />
<meta itemprop="wordCount" content="743"><meta itemprop="image" content="https://rlodeiro.info/img/posts/2018/10/gogs/gogs.jpg">
<meta itemprop="keywords" content="GO,Control de versiones,Proyectos,git,Golang," />
        

        
            
        

        
        
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">
            <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700">
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css">
            <link rel="stylesheet" href="https://rlodeiro.info/css/main.css">
            <link rel="stylesheet" href="https://rlodeiro.info/css/add-on.css">
            <link rel="stylesheet" href="https://rlodeiro.info/css/academicons.min.css">
        

        
            
                
            
                
                    <link rel="stylesheet" href="https://rlodeiro.info/css/github.min.css">
                
            
        



      
    </head>
    <body>

      
      <div id="wrapper">

    
    
<header id="header">
    
      <h1><a href="https://rlodeiro.info/">Roberto Lodeiro</a></h1>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="https://rlodeiro.info/">
                            <i class="fa fa-home">&nbsp;</i>Inicio
                    </a>
                </li>
            
                <li>
                    <a href="https://rlodeiro.info/about/">
                            <i class="fa fa-id-card-o">&nbsp;</i>Sobre mi
                    </a>
                </li>
            
                <li>
                    <a href="https://rlodeiro.info/blog/">
                            <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                    </a>
                </li>
            
                <li>
                    <a href="https://rlodeiro.info/categories/">
                            <i class="fa fa-sitemap">&nbsp;</i>Categorias
                    </a>
                </li>
            
                <li>
                    <a href="https://rlodeiro.info/contact/">
                            <i class="fa fa-envelope-o">&nbsp;</i>Contacto
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li id="share-nav" class="share-menu" style="display:none;">
                <a class="fa-share-alt" href="#share-menu">Share</a>
            </li>
            
            <li class="search">
                <a class="fa-search" href="#search">Buscar</a>
                <form id="search" method="get" action="//duckduckgo.com" target="_blank">
                    <input type="text" name="q" placeholder="Buscar" />
                    <input type="hidden" name="sites" value="https://rlodeiro.info">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
    <section>
        <form class="search" method="get" action="//duckduckgo.com" target="_blank">
            <input type="text" name="q" placeholder="Buscar" />
            <input type="hidden" name="sites" value="https://rlodeiro.info">
        </form>
    </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="https://rlodeiro.info/">
                            <h3>
                                <i class="fa fa-home">&nbsp;</i>Inicio
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://rlodeiro.info/about/">
                            <h3>
                                <i class="fa fa-id-card-o">&nbsp;</i>Sobre mi
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://rlodeiro.info/blog/">
                            <h3>
                                <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://rlodeiro.info/categories/">
                            <h3>
                                <i class="fa fa-sitemap">&nbsp;</i>Categorias
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://rlodeiro.info/contact/">
                            <h3>
                                <i class="fa fa-envelope-o">&nbsp;</i>Contacto
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section class="recent-posts">
            <div class="mini-posts">
                <header>
                    <h3>Publicaciones Recientes</h3>
                </header>
                

                
                    
                

                
                        <article class="mini-post">
                            <header>
                                <h3><a href="https://rlodeiro.info/blog/firefox/">Firefox en Linux</a></h3>
                                
                                <time class="published" datetime='2024-12-09'>
                                    9 de diciembre de 2024
                                  </time>
                            </header>
                            
    

    
        
        







  


        
        
        

        <a href="https://rlodeiro.info/blog/firefox/" class="image featured">
            <img src="https://rlodeiro.info/img/posts/2024/12/firefox/firefox.jpg" alt="">
        </a>
    


                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="https://rlodeiro.info/blog/buttercup/">Buttercup: tu gestor de contraseñas</a></h3>
                                
                                <time class="published" datetime='2024-01-02'>
                                    2 de enero de 2024
                                  </time>
                            </header>
                            
    

    
        
        







  


        
        
        

        <a href="https://rlodeiro.info/blog/buttercup/" class="image featured">
            <img src="https://rlodeiro.info/img/posts/2024/01/buttercup/buttercup.jpg" alt="">
        </a>
    


                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="https://rlodeiro.info/blog/certificado-autofirmado/">Certificado auto-firmado</a></h3>
                                
                                <time class="published" datetime='2023-12-03'>
                                    3 de diciembre de 2023
                                  </time>
                            </header>
                            
    

    
        
        







  


        
        
        

        <a href="https://rlodeiro.info/blog/certificado-autofirmado/" class="image featured">
            <img src="https://rlodeiro.info/img/posts/2023/12/certificado-autofirmado/certificado-autofirmado.jpg" alt="">
        </a>
    


                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="https://rlodeiro.info/blog/actualizar-debian-11-debian-12-bookworm/">Actualizar Debian 11 a Debian 12 Bookworm</a></h3>
                                
                                <time class="published" datetime='2023-06-11'>
                                    11 de junio de 2023
                                  </time>
                            </header>
                            
    

    
        
        







  


        
        
        

        <a href="https://rlodeiro.info/blog/actualizar-debian-11-debian-12-bookworm/" class="image featured">
            <img src="https://rlodeiro.info/img/posts/2023/06/actualizar-debian-11-debian-12-bookworm/actualizar-debian-11-debian-12-bookworm.jpg" alt="">
        </a>
    


                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="https://rlodeiro.info/blog/duplicati/">Duplicati</a></h3>
                                
                                <time class="published" datetime='2023-04-30'>
                                    30 de abril de 2023
                                  </time>
                            </header>
                            
    

    
        
        







  


        
        
        

        <a href="https://rlodeiro.info/blog/duplicati/" class="image featured">
            <img src="https://rlodeiro.info/img/posts/2023/04/duplicati/duplicati.jpg" alt="">
        </a>
    


                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="https://rlodeiro.info/blog/ventoy/">Ventoy</a></h3>
                                
                                <time class="published" datetime='2022-09-03'>
                                    3 de septiembre de 2022
                                  </time>
                            </header>
                            
    

    
        
        







  


        
        
        

        <a href="https://rlodeiro.info/blog/ventoy/" class="image featured">
            <img src="https://rlodeiro.info/img/posts/2022/09/ventoy/ventoy.jpg" alt="">
        </a>
    


                        </article>
                

                
                    <a href=
                        
                            /blog/
                        
                        class="button">Ver más entradas</a>
                
            </div>
        </section>

    
        
</section>

    <section id="share-menu">
    <section id="social-share-nav">
        <ul class="links">
            <header>
                <h3>Comparte esta publicación <i class="fa fa-smile-o"></i></h3>
            </header>
            



<li>
  <a href="//twitter.com/share?url=https%3a%2f%2frlodeiro.info%2fblog%2fgogs%2f&amp;text=Gogs%20%7c%20Self-Hosted%20Git&amp;via=lodeiro0001" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
    </a>
</li>








<li>
  <a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2frlodeiro.info%2fblog%2fgogs%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
    </a>
</li>




<li>
  <a href="//reddit.com/submit?url=https%3a%2f%2frlodeiro.info%2fblog%2fgogs%2f&amp;title=Gogs%20%7c%20Self-Hosted%20Git" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
  </a>
</li>




<li>
  <a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2frlodeiro.info%2fblog%2fgogs%2f&amp;title=Gogs%20%7c%20Self-Hosted%20Git" target="_blank" class="share-btn linkedin">
      <i class="fa fa-linkedin"></i>
      <p>LinkedIn</p>
    </a>
</li>







<li>
  <a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2frlodeiro.info%2fblog%2fgogs%2f&amp;description=Gogs%20%7c%20Self-Hosted%20Git" target="_blank" class="share-btn pinterest">
    <i class="fa fa-pinterest-p"></i>
    <p>Pinterest</p>
  </a>
</li>




<li>
  <a href="mailto:?subject=Chequea este post de Roberto%20Lodeiro&amp;body=https%3a%2f%2frlodeiro.info%2fblog%2fgogs%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
  </a>
</li>


        </ul>
    </section>
</section>

    
    <div id="main">
        
        
        <article class="post">
  <header>
    <div class="title">
        
            <h1><a href="https://rlodeiro.info/blog/gogs/">Gogs | Self-Hosted Git</a></h1>
            
        
        
            <p>Tu propio servicio de hospedaje para repositorios Git</p>
        
    </div>
    <div class="meta">
        

        <time class="published" datetime='2018-10-07'>
            7 de octubre de 2018
          </time>
        <span class="author">Roberto Lodeiro</span>
        
        
    </div>
</header>


  
    <section id="social-share">
      <ul class="icons">
        



<li>
  <a href="//twitter.com/share?url=https%3a%2f%2frlodeiro.info%2fblog%2fgogs%2f&amp;text=Gogs%20%7c%20Self-Hosted%20Git&amp;via=lodeiro0001" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
    </a>
</li>








<li>
  <a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2frlodeiro.info%2fblog%2fgogs%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
    </a>
</li>




<li>
  <a href="//reddit.com/submit?url=https%3a%2f%2frlodeiro.info%2fblog%2fgogs%2f&amp;title=Gogs%20%7c%20Self-Hosted%20Git" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
  </a>
</li>




<li>
  <a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2frlodeiro.info%2fblog%2fgogs%2f&amp;title=Gogs%20%7c%20Self-Hosted%20Git" target="_blank" class="share-btn linkedin">
      <i class="fa fa-linkedin"></i>
      <p>LinkedIn</p>
    </a>
</li>







<li>
  <a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2frlodeiro.info%2fblog%2fgogs%2f&amp;description=Gogs%20%7c%20Self-Hosted%20Git" target="_blank" class="share-btn pinterest">
    <i class="fa fa-pinterest-p"></i>
    <p>Pinterest</p>
  </a>
</li>




<li>
  <a href="mailto:?subject=Chequea este post de Roberto%20Lodeiro&amp;body=https%3a%2f%2frlodeiro.info%2fblog%2fgogs%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
  </a>
</li>


      </ul>
    </section>
  

  
    

    
        
        







  


        
        
        

        <a href="https://rlodeiro.info/blog/gogs/" class="image featured">
            <img src="https://rlodeiro.info/img/posts/2018/10/gogs//gogs.jpg" alt="">
        </a>
    


  <div id="content">
    <p>Todos los que de uno u otro modo estamos relacionados con el desarrollo de software, antes o después hemos usado algún servicio de repositorios Git en la nube. Por lo general, son gratuitos para repositorios públicos, y pagando podemos crear repositorios privados.</p>
<p>Gogs es un servicio de Git opensource para alojar nuestros repositorios Git en nuestro propio servidor. He probado otras alternativas similares, pero para mi, Gogs es la ganadora ya que consume poquísimos recursos y funciona perfectamente ¿que más se puede pedir? Que sea gratuito, y lo es.</p>
<p>Estoy seguro de que una de las razones principales por las que consume tan pocos recursos, es el hecho de estar 

    
        
    

    <a href="https://golang.org" target='_blank'>escrito en GO.</a>

 Explicaré como instalarlo en una Raspberry Pi con Raspbian, pero simplemente cambiando la versión ARM de GO por una x86, se podrá instalar en Debian y derivados.</p>


  <hr style="border-color: #d6d6d6;" />


<h2 id="primeros-pasos">Primeros pasos</h2>
<ul>
<li>Si no los tenemos, instalar git y wget:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ sudo apt install -y git wget
</span></span></code></pre></div><ul>
<li>Crear el usuario Gogs:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ sudo adduser --disabled-login --gecos <span style="color:#e6db74">&#39;Gogs&#39;</span> git
</span></span></code></pre></div><p>Si ya tenemos corriendo en nuestro servidor <code>MySQL/MariaDB</code> y <code>Nginx</code> podemos saltar a la instalación de GO, si no:</p>
<ul>
<li>Instalamos MariaDB y Nginx:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ sudo apt install mariadb-server nginx
</span></span></code></pre></div><ul>
<li>Para dejar lista nuestra nueva instalación de MariaDB:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ sudo mysql_secure_installation
</span></span></code></pre></div><p>Iremos respondiendo a todas las preguntas, con el fin de establecer el password de nuestro usuario <code>root</code> para MariaDB.</p>
<h2 id="1-instalación-de-go-golang">1. Instalación de GO (Golang)</h2>
<ul>
<li>Creamos el directorio /home/git/local:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ sudo su - git
</span></span><span style="display:flex;"><span>$ mkdir $HOME/local <span style="color:#f92672">&amp;&amp;</span> cd $_
</span></span></code></pre></div><ul>
<li>Descargar Go y extraer el contenido:</li>
</ul>
<p>En el momento de escribir este tutorial la última versión estable 

    
        
    

    <a href="https://golang.org/dl/" target='_blank'>disponible en golang.org</a>

 es GO 1.11.1</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ wget https://dl.google.com/go/go1.11.1.linux-armv6l.tar.gz
</span></span><span style="display:flex;"><span>$ tar -C /home/git/local -xvzf go1.11.1.linux-armv6l.tar.gz
</span></span></code></pre></div><ul>
<li>Establecer la variable de entorno GOPATH para especificar la ubicación de nuestro espacio de trabajo:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ echo <span style="color:#e6db74">&#39;export GOROOT=$HOME/local/go&#39;</span> &gt;&gt; $HOME/.bashrc
</span></span><span style="display:flex;"><span>$ echo <span style="color:#e6db74">&#39;export GOPATH=$HOME/go&#39;</span> &gt;&gt; $HOME/.bashrc
</span></span><span style="display:flex;"><span>$ echo <span style="color:#e6db74">&#39;export PATH=$PATH:$GOROOT/bin:$GOPATH/bin&#39;</span> &gt;&gt; $HOME/.bashrc
</span></span><span style="display:flex;"><span>$ source $HOME/.bashrc
</span></span></code></pre></div><ul>
<li>Comprobar que Go está bien instalado:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ go version
</span></span></code></pre></div><ul>
<li>Si está bien instalado, se mostrará algo como lo siguiente:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>go version go1.11.1 linux/arm
</span></span></code></pre></div><h2 id="2-descargar-y-compilar-gogs">2. Descargar y compilar Gogs</h2>
<ul>
<li>Descargar Gogs:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ go get -u github.com/gogs/gogs
</span></span></code></pre></div><p>Tardará unos minutos y parecerá que la consola no responde, ya que no muestra progreso.</p>
<ul>
<li>Compilar Gogs:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ cd $GOPATH/src/github.com/gogs/gogs
</span></span><span style="display:flex;"><span>$ go build
</span></span></code></pre></div><ul>
<li>Ejecutamos:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ./gogs web
</span></span></code></pre></div><p>Esto arrancará el servidor web integrado escuchando en el <code>puerto 3000</code>
Abrir <code>localhost:3000</code> en el explorador. Gogs mostrará la página de instalación. Como no tenemos todavía configurada la base de datos, cerraremos el explorador y pararemos el servidor web con <code>CTRL+C</code>
Volveremos a la página de instalación de Gogs tras configurar MariaDB y Nginx.</p>
<ul>
<li>Salir del usuario git :</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ exit
</span></span></code></pre></div><h2 id="3-configuración-de-la-base-de-datos">3. Configuración de la base de datos</h2>
<ul>
<li>Entramos en MariaDB</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ sudo mysql -u root -p
</span></span></code></pre></div><ul>
<li>Creamos el nuevo usuario para Gogs:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">USER</span> <span style="color:#e6db74">&#39;gogs&#39;</span><span style="color:#f92672">@</span><span style="color:#e6db74">&#39;localhost&#39;</span> IDENTIFIED <span style="color:#66d9ef">BY</span> <span style="color:#e6db74">&#39;password&#39;</span>;
</span></span></code></pre></div><p>Sustituye <code>password</code> por la contraseña que decidas y guárdala, se necesitará después para configurar Gogs.</p>
<ul>
<li>Crear nueva base de datos para Gogs:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">DATABASE</span> gogs CHARACTER <span style="color:#66d9ef">SET</span> utf8 <span style="color:#66d9ef">COLLATE</span> utf8_general_ci;
</span></span></code></pre></div><ul>
<li>Dar permisos al usuario gogs:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">GRANT</span> <span style="color:#66d9ef">ALL</span> <span style="color:#66d9ef">PRIVILEGES</span> <span style="color:#66d9ef">ON</span> gogs.<span style="color:#f92672">*</span> <span style="color:#66d9ef">TO</span> gogs<span style="color:#f92672">@</span>localhost ;
</span></span></code></pre></div><ul>
<li>Salir de Mariadb:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> quit
</span></span></code></pre></div><h2 id="4-configuración-de-nginx">4. Configuración de Nginx</h2>
<p>Configuraremos un <code>Reverse Proxy</code> en Nginx, de esta forma podremos acceder a Gogs con nuestro nombre de dominio. Si queremos establecer un subdominio del estilo <code>gogs.tudominio.com</code> solo tendremos que establecer <code>location \</code> e indicar el <code>server_name</code> deseado.</p>
<ul>
<li>Entrar en /etc/nginx/sites-available y añadir la configuración del Reverse Proxy:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ cd /etc/nginx/sites-available
</span></span><span style="display:flex;"><span>$ sudo nano gogs
</span></span></code></pre></div><p>Pegar lo siguiente modificando segun nuestra configuración:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>http{
</span></span><span style="display:flex;"><span>server {
</span></span><span style="display:flex;"><span>listen 80;
</span></span><span style="display:flex;"><span>server_name tudominio.com;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>location /gogs/ {
</span></span><span style="display:flex;"><span>proxy_pass http://localhost:3000/;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>Habilitamos el nuevo sitio:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ sudo ln -s /etc/nginx/sites-available/gogs /etc/nginx/sites-enabled/
</span></span></code></pre></div><ul>
<li>Reiniciamos Nginx:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ sudo systemctl restart nginx
</span></span></code></pre></div><ul>
<li>Configuramos Gogs con la url tudominio.com/gogs/</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ sudo nano /home/git/go/src/github.com/gogits/gogs/custom/conf/app.ini
</span></span></code></pre></div><p>Buscar la <code>ROOT URL</code> y modificarla así:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>[server] ROOT_URL = tudominio.com/gogs/
</span></span></code></pre></div><h2 id="5-inicio-automático-con-systemd">5. Inicio automático con systemd</h2>
<ul>
<li>Crear el archivo gogs.service:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ sudo nano /etc/systemd/system/gogs.service
</span></span></code></pre></div><p>Pegar el siguiente contenido y guardar los cambios:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>[Unit]
</span></span><span style="display:flex;"><span>Description=Gogs (Go Git Service)
</span></span><span style="display:flex;"><span>After=syslog.target
</span></span><span style="display:flex;"><span>After=network.target
</span></span><span style="display:flex;"><span>After=mariadb.service
</span></span><span style="display:flex;"><span>After=nginx.service
</span></span><span style="display:flex;"><span>[Service]
</span></span><span style="display:flex;"><span>Type=simple
</span></span><span style="display:flex;"><span>User=git
</span></span><span style="display:flex;"><span>Group=git
</span></span><span style="display:flex;"><span>WorkingDirectory=/home/git/go/src/github.com/gogits/gogs
</span></span><span style="display:flex;"><span>ExecStart=/home/git/go/src/github.com/gogs/gogs/gogs web
</span></span><span style="display:flex;"><span>Restart=always
</span></span><span style="display:flex;"><span>Environment=USER=git HOME=/home/git
</span></span><span style="display:flex;"><span>[Install]
</span></span><span style="display:flex;"><span>WantedBy=multi-user.target
</span></span></code></pre></div><ul>
<li>Habilitar Gogs, iniciar el servicio y comprobar el estado:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ sudo systemctl enable gogs
</span></span><span style="display:flex;"><span>$ sudo systemctl restart gogs
</span></span><span style="display:flex;"><span>$ sudo systemctl status gogs 
</span></span></code></pre></div><p>Por último, entra en tudominio.com/gogs/ para iniciar la configuración de Gogs, y completar lo siguiente:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>Database type = MySQL
</span></span><span style="display:flex;"><span>Host = 127.0.0.1:3306
</span></span><span style="display:flex;"><span>User = gogs
</span></span><span style="display:flex;"><span>Password = &lt;password para el usuario gogs&gt;
</span></span><span style="display:flex;"><span>Database Name = gogs
</span></span></code></pre></div>

  <hr style="border-color: #d6d6d6;" />


<p>Espero que sea útil, ¡gracias por leerme!</p>

  </div>

  <footer>
    <ul class="stats">
  <li class="categories">
    <ul>
        
            
            
                <i class="fa fa-folder"></i>
                
                
                <li><a class="article-category-link" href="https://rlodeiro.info/categories/servicios">Servicios</a></li>
                
            
        
    </ul>
  </li>
  <li class="tags">
    <ul>
        
            
            
                <i class="fa fa-tags"></i>
                
                
                <li><a class="article-category-link" href="https://rlodeiro.info/tags/go">GO</a></li>
                
                
                <li><a class="article-category-link" href="https://rlodeiro.info/tags/control-de-versiones">Control de versiones</a></li>
                
                
                <li><a class="article-category-link" href="https://rlodeiro.info/tags/proyectos">Proyectos</a></li>
                
                
                <li><a class="article-category-link" href="https://rlodeiro.info/tags/git">git</a></li>
                
                
                <li><a class="article-category-link" href="https://rlodeiro.info/tags/golang">Golang</a></li>
                
            
        
    </ul>
  </li>
</ul>

  </footer>

</article>


<ul class="actions pagination">
    
        <li><a href="https://rlodeiro.info/blog/boostnote/"
                class="button big previous">Boostnote</a></li>
    

    
        <li><a href="https://rlodeiro.info/blog/ntp/"
                class="button big next">NTP | Servidor local</a></li>
    
</ul>


    </div>
    
<section id="sidebar">

  
  <section id="intro">
    
    
      
        <a href='https://rlodeiro.info/'><img src="https://rlodeiro.info/img/main/logo.jpg" class="intro-circle" width="" alt="" /></a>
      
    
    
      <header>
        <h2>Roberto Lodeiro</h2>
        <p>Reality is wrong. Dreams are for real.</p>
      </header>
    
    
      <ul class="icons">
        
          
    <li><a href="" type="application/rss+xml" target="_blank" title="RSS" class="fa fa-rss"></a></li>


        
        


























































  <li><a href="//x.com/lodeiro0001" target="_blank" title="X" class="fa fa-twitter"></a></li>



















  <li><a href="mailto:me@rlodeiro.info" title="Email" class="fa fa-envelope"></a></li>



  <li><a rel="me" href="https://mastodon.social/@r_lodeiro" target="_blank" title="Mastodon" class="fa fa-paw"></a></li>


      </ul>
    
  </section>

  
  <section class="recent-posts">
    <div class="mini-posts">
      <header>
        <h3>Publicaciones Recientes</h3>
      </header>
      <div class="posts-container">
        

        
          
        

        
          <article class="mini-post">
            <header>
              <h3>
                <a href="https://rlodeiro.info/blog/firefox/">Firefox en Linux</a>
              </h3>
              
              <time class="published" datetime='2024-12-09'>
                9 de diciembre de 2024
              </time>
            </header>
            
    

    
        
        







  


        
        
        

        <a href="https://rlodeiro.info/blog/firefox/" class="image featured">
            <img src="https://rlodeiro.info/img/posts/2024/12/firefox/firefox.jpg" alt="">
        </a>
    


          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="https://rlodeiro.info/blog/buttercup/">Buttercup: tu gestor de contraseñas</a>
              </h3>
              
              <time class="published" datetime='2024-01-02'>
                2 de enero de 2024
              </time>
            </header>
            
    

    
        
        







  


        
        
        

        <a href="https://rlodeiro.info/blog/buttercup/" class="image featured">
            <img src="https://rlodeiro.info/img/posts/2024/01/buttercup/buttercup.jpg" alt="">
        </a>
    


          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="https://rlodeiro.info/blog/certificado-autofirmado/">Certificado auto-firmado</a>
              </h3>
              
              <time class="published" datetime='2023-12-03'>
                3 de diciembre de 2023
              </time>
            </header>
            
    

    
        
        







  


        
        
        

        <a href="https://rlodeiro.info/blog/certificado-autofirmado/" class="image featured">
            <img src="https://rlodeiro.info/img/posts/2023/12/certificado-autofirmado/certificado-autofirmado.jpg" alt="">
        </a>
    


          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="https://rlodeiro.info/blog/actualizar-debian-11-debian-12-bookworm/">Actualizar Debian 11 a Debian 12 Bookworm</a>
              </h3>
              
              <time class="published" datetime='2023-06-11'>
                11 de junio de 2023
              </time>
            </header>
            
    

    
        
        







  


        
        
        

        <a href="https://rlodeiro.info/blog/actualizar-debian-11-debian-12-bookworm/" class="image featured">
            <img src="https://rlodeiro.info/img/posts/2023/06/actualizar-debian-11-debian-12-bookworm/actualizar-debian-11-debian-12-bookworm.jpg" alt="">
        </a>
    


          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="https://rlodeiro.info/blog/duplicati/">Duplicati</a>
              </h3>
              
              <time class="published" datetime='2023-04-30'>
                30 de abril de 2023
              </time>
            </header>
            
    

    
        
        







  


        
        
        

        <a href="https://rlodeiro.info/blog/duplicati/" class="image featured">
            <img src="https://rlodeiro.info/img/posts/2023/04/duplicati/duplicati.jpg" alt="">
        </a>
    


          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="https://rlodeiro.info/blog/ventoy/">Ventoy</a>
              </h3>
              
              <time class="published" datetime='2022-09-03'>
                3 de septiembre de 2022
              </time>
            </header>
            
    

    
        
        







  


        
        
        

        <a href="https://rlodeiro.info/blog/ventoy/" class="image featured">
            <img src="https://rlodeiro.info/img/posts/2022/09/ventoy/ventoy.jpg" alt="">
        </a>
    


          </article>
        
      </div>

      
        <a href=
          
            /blog/
          
        class="button">Ver más entradas</a>
      
    </div>
  </section>

  
  
  
  
  
    <section id="categories">
      <header>
        <h3>
          <a href="https://rlodeiro.info/categories/">Categorías</a>
        </h3>
      </header>
        
          
        

        
        <p>
          <article>
            <header>
              
                <a href="https://rlodeiro.info/categories/herramientas/">herramientas</a>
                <span style="float:right;">9</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="https://rlodeiro.info/categories/iot/">iot</a>
                <span style="float:right;">2</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="https://rlodeiro.info/categories/linux/">linux</a>
                <span style="float:right;">25</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="https://rlodeiro.info/categories/raspberry-pi/">raspberry-pi</a>
                <span style="float:right;">6</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="https://rlodeiro.info/categories/servicios/">servicios</a>
                <span style="float:right;">9</span>
              
            </header>
          </article>
        </p>
        
    </section>
  
  

  
  
    <section id="mini-bio">
      <h3>Sobre Mi</h3>
      <p>¿De donde viene? ¿Cual es su color de pelo? ¿A que tribu urbana pertenece? Si estás muy aburrid@ y/o quieres saberlo ¡adelante!</p>
      <a href="https://rlodeiro.info/about/" class="button">Leer Más</a>
    </section>
  

  
  <section id="footer">
    
      <ul class="icons">
        
          
    <li><a href="" type="application/rss+xml" target="_blank" title="RSS" class="fa fa-rss"></a></li>


        
        


























































  <li><a href="//x.com/lodeiro0001" target="_blank" title="X" class="fa fa-twitter"></a></li>



















  <li><a href="mailto:me@rlodeiro.info" title="Email" class="fa fa-envelope"></a></li>



  <li><a rel="me" href="https://mastodon.social/@r_lodeiro" target="_blank" title="Mastodon" class="fa fa-paw"></a></li>


      </ul>
    
    <p class="copyright">
      
      © 2024 Roberto Lodeiro
      
    </p>
  </section>
</section>

    </div>
    <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
    

    
      
    

    
    
    
      <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.js"></script>
      <script src="https://rlodeiro.info/js/util.js"></script>
      <script src="https://rlodeiro.info/js/main.js"></script>
      <script src="https://rlodeiro.info/js/backToTop.js"></script>
    

    
      
        
      
        
          <script src="https://rlodeiro.info/js/highlight.min.js"></script>
        
      
    

    
    <script>hljs.initHighlightingOnLoad();</script>
      


  </body>
</html>

