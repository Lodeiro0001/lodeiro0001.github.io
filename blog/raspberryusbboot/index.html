<!DOCTYPE HTML>
<html lang="es">
    <head>
        
        <meta property="og:image" content="http://rlodeiro.info/img/posts/2018/09/raspberry/raspberry.jpg"/>
        <meta property="og:image:secure_url" content="https://rlodeiro.info/img/posts/2018/09/raspberry/raspberry.jpg"/>
        
        <script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "Raspberry Pi \u0026 USB Boot Mode",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://rlodeiro.info"
  },
  "inLanguage" : "es-ES",
  "articleSection" : "blog",
  
  "genre": "post",
  "keywords": "boot, USB, Raspberry",
  "wordcount":  915 ,
  "url": "https://rlodeiro.info/blog/raspberryusbboot/",
  "datePublished": "2018-09-28",
  "dateModified": "2018-09-28",
  "license": "© 2021 Roberto Lodeiro",
  "copyrightHolder" : "Roberto Lodeiro",
  "copyrightYear" : "2018",
  
  "author" : "Roberto Lodeiro",
  "description": "Como arrancar una Raspberry Pi desde un disco USB"
}
</script>
        
            
                <title>Raspberry Pi &amp; USB Boot Mode | Roberto Lodeiro</title>
            
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="shortcut icon" href="https://rlodeiro.info/favicon.ico?v=kPP08pKEXB">


        
            <meta name="author" content="Roberto Lodeiro">
        
        
            <meta name="description" content="Como arrancar una Raspberry Pi desde un disco USB">
        

        <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://rlodeiro.info/img/posts/2018/09/raspberry/raspberry.jpg"/>

<meta name="twitter:title" content="Raspberry Pi &amp; USB Boot Mode"/>
<meta name="twitter:description" content="Como arrancar una Raspberry Pi desde un disco USB"/>
<meta name="twitter:site" content="@lodeiro0001"/>

        
        <meta itemprop="name" content="Raspberry Pi &amp; USB Boot Mode">
<meta itemprop="description" content="Como arrancar una Raspberry Pi desde un disco USB"><meta itemprop="datePublished" content="2018-09-28T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2018-09-28T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="915"><meta itemprop="image" content="https://rlodeiro.info/img/posts/2018/09/raspberry/raspberry.jpg">
<meta itemprop="keywords" content="boot,USB,Raspberry," />
        

        
            
        

        
        
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">
            <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700">
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css">
            <link rel="stylesheet" href="https://rlodeiro.info/css/main.css">
            <link rel="stylesheet" href="https://rlodeiro.info/css/add-on.css">
            <link rel="stylesheet" href="https://rlodeiro.info/css/academicons.min.css">
        

        
            
                
            
                
                    <link rel="stylesheet" href="https://rlodeiro.info/css/github.min.css">
                
            
        



      
    </head>
    <body>

      
      <div id="wrapper">

    
    
<header id="header">
    
      <h1><a href="https://rlodeiro.info/">Roberto Lodeiro</a></h1>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="https://rlodeiro.info/">
                            <i class="fa fa-home">&nbsp;</i>Inicio
                    </a>
                </li>
            
                <li>
                    <a href="https://rlodeiro.info/about/">
                            <i class="fa fa-id-card-o">&nbsp;</i>Sobre mi
                    </a>
                </li>
            
                <li>
                    <a href="https://rlodeiro.info/blog/">
                            <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                    </a>
                </li>
            
                <li>
                    <a href="https://rlodeiro.info/categories/">
                            <i class="fa fa-sitemap">&nbsp;</i>Categorias
                    </a>
                </li>
            
                <li>
                    <a href="https://rlodeiro.info/contact/">
                            <i class="fa fa-envelope-o">&nbsp;</i>Contacto
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li id="share-nav" class="share-menu" style="display:none;">
                <a class="fa-share-alt" href="#share-menu">Share</a>
            </li>
            
            <li class="search">
                <a class="fa-search" href="#search">Buscar</a>
                <form id="search" method="get" action="//duckduckgo.com" target="_blank">
                    <input type="text" name="q" placeholder="Buscar" />
                    <input type="hidden" name="sites" value="https://rlodeiro.info">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
    <section>
        <form class="search" method="get" action="//duckduckgo.com" target="_blank">
            <input type="text" name="q" placeholder="Buscar" />
            <input type="hidden" name="sites" value="https://rlodeiro.info">
        </form>
    </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="https://rlodeiro.info/">
                            <h3>
                                <i class="fa fa-home">&nbsp;</i>Inicio
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://rlodeiro.info/about/">
                            <h3>
                                <i class="fa fa-id-card-o">&nbsp;</i>Sobre mi
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://rlodeiro.info/blog/">
                            <h3>
                                <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://rlodeiro.info/categories/">
                            <h3>
                                <i class="fa fa-sitemap">&nbsp;</i>Categorias
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://rlodeiro.info/contact/">
                            <h3>
                                <i class="fa fa-envelope-o">&nbsp;</i>Contacto
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section class="recent-posts">
            <div class="mini-posts">
                <header>
                    <h3>Publicaciones Recientes</h3>
                </header>
                

                
                    
                

                
                        <article class="mini-post">
                            <header>
                                <h3><a href="https://rlodeiro.info/blog/diun-avisos-actualizaciones-imagenes-docker/">Diun: Avisos de actualizaciones de imágenes Docker</a></h3>
                                
                                <time class="published" datetime='2021-09-10'>
                                    10 de septiembre de 2021
                                  </time>
                            </header>
                            
    

    
        
        







  


        
        
        

        <a href="https://rlodeiro.info/blog/diun-avisos-actualizaciones-imagenes-docker/" class="image featured">
            <img src="https://rlodeiro.info/img/posts/2021/09/diun-avisos-actualizaciones-imagenes-docker/diun-avisos-actualizaciones-imagenes-docker.jpg" alt="">
        </a>
    


                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="https://rlodeiro.info/blog/actualizar-debian-10-a-debian-11-bullseye/">Actualizar Debian 10 a Debian 11 Bullseye</a></h3>
                                
                                <time class="published" datetime='2021-08-14'>
                                    14 de agosto de 2021
                                  </time>
                            </header>
                            
    

    
        
        







  


        
        
        

        <a href="https://rlodeiro.info/blog/actualizar-debian-10-a-debian-11-bullseye/" class="image featured">
            <img src="https://rlodeiro.info/img/posts/2021/08/actualizar-debian-10-a-debian-11-bullseye/actualizar-debian-10-a-debian-11-bullseye.jpg" alt="">
        </a>
    


                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="https://rlodeiro.info/blog/ps5-ps4-remote-play-linux/">PS5 &amp; PS4: Remote Play en Linux</a></h3>
                                
                                <time class="published" datetime='2021-08-06'>
                                    6 de agosto de 2021
                                  </time>
                            </header>
                            
    

    
        
        







  


        
        
        

        <a href="https://rlodeiro.info/blog/ps5-ps4-remote-play-linux/" class="image featured">
            <img src="https://rlodeiro.info/img/posts/2021/08/PS5-PS4-Remote-Play-Linux//PS5-PS4-Remote-Play-Linux.jpg" alt="">
        </a>
    


                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="https://rlodeiro.info/blog/dnie-linux/">DNI electrónico en Linux</a></h3>
                                
                                <time class="published" datetime='2021-07-25'>
                                    25 de julio de 2021
                                  </time>
                            </header>
                            
    

    
        
        







  


        
        
        

        <a href="https://rlodeiro.info/blog/dnie-linux/" class="image featured">
            <img src="https://rlodeiro.info/img/posts/2021/07/dnie-linux//dnie-linux.jpg" alt="">
        </a>
    


                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="https://rlodeiro.info/blog/github-2fa-ssh/">GitHub: 2FA y claves SSH</a></h3>
                                
                                <time class="published" datetime='2021-06-27'>
                                    27 de junio de 2021
                                  </time>
                            </header>
                            
    

    
        
        







  


        
        
        

        <a href="https://rlodeiro.info/blog/github-2fa-ssh/" class="image featured">
            <img src="https://rlodeiro.info/img/posts/2021/06/github-2fa-ssh//github-2fa-ssh.jpg" alt="">
        </a>
    


                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="https://rlodeiro.info/blog/raspberry-pi_swap-swappiness/">Raspberry Pi: Swap y Swappiness</a></h3>
                                
                                <time class="published" datetime='2021-06-08'>
                                    8 de junio de 2021
                                  </time>
                            </header>
                            
    

    
        
        







  


        
        
        

        <a href="https://rlodeiro.info/blog/raspberry-pi_swap-swappiness/" class="image featured">
            <img src="https://rlodeiro.info/img/posts/2021/06/raspberry-pi_swap-swappiness//raspberry-pi_swap-swappiness.jpg" alt="">
        </a>
    


                        </article>
                

                
                    <a href=
                        
                            /blog/
                        
                        class="button">Ver más entradas</a>
                
            </div>
        </section>

    
        
</section>

    <section id="share-menu">
    <section id="social-share-nav">
        <ul class="links">
            <header>
                <h3>Comparte esta publicación <i class="fa fa-smile-o"></i></h3>
            </header>
            



<li>
  <a href="//twitter.com/share?url=https%3a%2f%2frlodeiro.info%2fblog%2fraspberryusbboot%2f&amp;text=Raspberry%20Pi%20%26%20USB%20Boot%20Mode&amp;via=lodeiro0001" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
    </a>
</li>








<li>
  <a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2frlodeiro.info%2fblog%2fraspberryusbboot%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
    </a>
</li>




<li>
  <a href="//reddit.com/submit?url=https%3a%2f%2frlodeiro.info%2fblog%2fraspberryusbboot%2f&amp;title=Raspberry%20Pi%20%26%20USB%20Boot%20Mode" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
  </a>
</li>




<li>
  <a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2frlodeiro.info%2fblog%2fraspberryusbboot%2f&amp;title=Raspberry%20Pi%20%26%20USB%20Boot%20Mode" target="_blank" class="share-btn linkedin">
      <i class="fa fa-linkedin"></i>
      <p>LinkedIn</p>
    </a>
</li>







<li>
  <a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2frlodeiro.info%2fblog%2fraspberryusbboot%2f&amp;description=Raspberry%20Pi%20%26%20USB%20Boot%20Mode" target="_blank" class="share-btn pinterest">
    <i class="fa fa-pinterest-p"></i>
    <p>Pinterest</p>
  </a>
</li>




<li>
  <a href="mailto:?subject=Chequea este post de Roberto%20Lodeiro&amp;body=https%3a%2f%2frlodeiro.info%2fblog%2fraspberryusbboot%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
  </a>
</li>


        </ul>
    </section>
</section>

    
    <div id="main">
        
        
        <article class="post">
  <header>
    <div class="title">
        
            <h1><a href="https://rlodeiro.info/blog/raspberryusbboot/">Raspberry Pi &amp; USB Boot Mode</a></h1>
            
        
        
            <p>Como arrancar una Raspberry Pi desde un disco USB</p>
        
    </div>
    <div class="meta">
        

        <time class="published" datetime='2018-09-28'>
            28 de septiembre de 2018
          </time>
        <span class="author">Roberto Lodeiro</span>
        
        
    </div>
</header>


  
    <section id="social-share">
      <ul class="icons">
        



<li>
  <a href="//twitter.com/share?url=https%3a%2f%2frlodeiro.info%2fblog%2fraspberryusbboot%2f&amp;text=Raspberry%20Pi%20%26%20USB%20Boot%20Mode&amp;via=lodeiro0001" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
    </a>
</li>








<li>
  <a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2frlodeiro.info%2fblog%2fraspberryusbboot%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
    </a>
</li>




<li>
  <a href="//reddit.com/submit?url=https%3a%2f%2frlodeiro.info%2fblog%2fraspberryusbboot%2f&amp;title=Raspberry%20Pi%20%26%20USB%20Boot%20Mode" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
  </a>
</li>




<li>
  <a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2frlodeiro.info%2fblog%2fraspberryusbboot%2f&amp;title=Raspberry%20Pi%20%26%20USB%20Boot%20Mode" target="_blank" class="share-btn linkedin">
      <i class="fa fa-linkedin"></i>
      <p>LinkedIn</p>
    </a>
</li>







<li>
  <a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2frlodeiro.info%2fblog%2fraspberryusbboot%2f&amp;description=Raspberry%20Pi%20%26%20USB%20Boot%20Mode" target="_blank" class="share-btn pinterest">
    <i class="fa fa-pinterest-p"></i>
    <p>Pinterest</p>
  </a>
</li>




<li>
  <a href="mailto:?subject=Chequea este post de Roberto%20Lodeiro&amp;body=https%3a%2f%2frlodeiro.info%2fblog%2fraspberryusbboot%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
  </a>
</li>


      </ul>
    </section>
  

  
    

    
        
        







  


        
        
        

        <a href="https://rlodeiro.info/blog/raspberryusbboot/" class="image featured">
            <img src="https://rlodeiro.info/img/posts/2018/09/raspberry//raspberry.jpg" alt="">
        </a>
    


  <div id="content">
    <p>En esta primera entrada, explicaré algo que me ha sido muy util a la hora de tener una Raspberry Pi como servidor en casa.</p>
<p>Todos sabemos que la Raspberry Pi, por defecto, utiliza una tarjeta MicroSD como disco para el sistema, lo cual supone muchas limitaciones, tanto a nivel de rendimiento como de durabilidad.</p>
<p>Desde hace relativamente poco, en 

    
        
    

    <a href="https://www.raspberrypi.org/documentation/hardware/raspberrypi/bootmodes/msd.md" target='_blank'>la documentación oficial</a>

 se explica como activar el arranque desde un dispositivo usb.</p>


  <hr style="border-color: #d6d6d6;" />


<h2 id="1-documentación-oficial">1. Documentación oficial</h2>
<ul>
<li>Actualizar nuestra Raspberry Pi</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo apt-get update <span style="color:#f92672">&amp;&amp;</span> sudo apt-get upgrade
</code></pre></div><ul>
<li>Habilitar USB boot mode</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ echo program_usb_boot_mode<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> | sudo tee -a /boot/config.txt
</code></pre></div><p>Esto añadirá <code>program_usb_boot_mode=1</code> al final de <code>/boot/config.txt</code>. En cuanto reiniciemos la Raspberry Pi, quedará activado USB Boot Mode de forma permanente, podremos arrancar desde un disco USB sin necesidad de la tarjeta MicroSD, pero si esta está presente, se arrancará desde ella. Si utilizamos esta MicroSD en otra Raspberry Pi, en esta también se activará USB Boot Mode.</p>
<ul>
<li>Para comprobar que se ha realizado correctamente</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ vcgencmd otp_dump | grep 17:
17:3020000a
</code></pre></div><p>Verificamos que la salida sea <code>0x3020000a</code>. De no ser así, repetiremos el proceso. Si sigue sin funcionar, significa que la Raspberry Pi tiene un problema de hardware. A mi me ha funcionado sin problema tanto en una Pi 3B como en una 3B+.</p>
<p>Solo tenemos que 

    
        
    

    <a href="https://www.raspberrypi.org/downloads/raspbian/" target='_blank'>descargar la imagen de raspbian</a>

 (recomiendo Lite para server) y quemarla en nuestro disco USB de la misma forma que lo haríamos en la MicroSD. Personalmente siempre utilizo la 

    
        
    

    <a href="https://etcher.io/" target='_blank'>herramienta OpenSource Etcher</a>

 para esto.</p>
<p>Todo pinta muy bonito, pero, siempre hay un pero.</p>
<h4 id="problema-solo-un-hdd">Problema, solo un HDD</h4>
<p>Si queremos utilizar, además del disco USB principal para el sistema, otro u otros discos USB para por ejemplo guardar archivos, nuestra Raspberry Pi ya no arrancará. He intentado especificar en la configuración del boot con cual de los discos se a de arrancar,pero no funciona, así que me temo que esto es algo que no se ha tenido en cuenta al implementar esta característica.</p>
<p>Antes de nada, mencionar que la Raspberry Pi solo alimenta de forma correcta un disco USB. Para utilizar mas discos, tenemos que conectar un hub con alimentación externa propia, y ahí ya podemos conectar el resto de discos.</p>
<h2 id="2-para-poder-conectar-mas-de-un-disco-usb">2. Para poder conectar mas de un disco usb</h2>
<h3 id="21-instalación-nueva">2.1 Instalación nueva</h3>
<p>Partimos teniendo instalado raspbian, tanto en la MicroSD como en el disco USB. Básicamente lo que haremos, será arrancar como siempre con la MicroSD, pero indicando en la configuración de arranque que se utilice la partición root del disco USB en lugar de utilizar la de la MicroSD. En este caso, si necesitaremos la tarjeta MicroSD para arrancar.</p>
<p>Es importante, que tanto la MicroSD como el disco USB, tengan la misma version de Raspbian. Si anteriormente hemos hecho un <code>sudo apt upgrade</code> en nuestra MicroSD, antes de continuar, arrancaremos solo con el disco USB para actualizar el sistema también en el. Yo lo he hecho sin actualizar ninguna de las dos instalaciones, actualizando el sistema posteriormente.</p>
<p>Una vez arrancada la Raspberry Pi con la MicroSD y el disco USB conectado:</p>
<ul>
<li>
<p>Entramos en la terminal y listamos los discos con <code>lsblk</code>
Esto nos devolverá el listado de discos/particiones que tenemos en el sistema. Ha de figurar montada la MicroSD, normalmente <code>/boot</code> en <code>mmcblk0p1</code> y la partición root <code>/</code> en <code>mmcblk0p2</code>. Anotamos el nombre de la partición del disco USB donde se encuentra el root, normalmente algo como <code>sda2</code>.</p>
</li>
<li>
<p>Montamos la partición root del disco USB</p>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo mkdir /mnt/rootUSB
$ sudo mount /dev/sda2 /mnt/rootUSB
</code></pre></div><ul>
<li>Para conocer su PARTUUID</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo blkid -p /dev/sda2
</code></pre></div><p>No confundir UUID con PARTUUID. Encontraremos PARTUUID como <code>PART_ENTRY_UUID=&quot;XXXXXXXX-02&quot;</code>. Guardamos el código PARTUUID correspondiente a la partición root de nuestro disco USB.</p>
<ul>
<li>Hacemos un backup de la configuración de inicio de la sd y la editamos</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo cp /boot/cmdline.txt /boot/cmdline.sdBoot.bak
$ sudo nano /boot/cmdline.txt
</code></pre></div><p>Veremos algo como <code>root=PARTUUID=XXXXXXXX-02</code>, correspondiente al <code>/</code>de  la sd, lo sustituimos por el PARTUUID correpondiente a la partición root del USB que copiamos antes.</p>
<ul>
<li>Editamos <code>fstab</code> en el disco USB para indicar el <code>/boot</code> de la sd</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo nano /mnt/rootUSB/etc/fstab
</code></pre></div><p>Comentamos la linea correspondiente al <code>/boot</code> del usb, y añadimos <code>PARTUUID=XXXXXXXX-01       /boot           vfat    defaults          0       2</code> para la sd, quedando algo como lo siguiente:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">    proc                       /proc           proc    defaults          <span style="color:#ae81ff">0</span>       <span style="color:#ae81ff">0</span>
    PARTUUID<span style="color:#f92672">=</span>XXXXXXXX-02       /               ext4    defaults,noatime  <span style="color:#ae81ff">0</span>       <span style="color:#ae81ff">1</span>
    PARTUUID<span style="color:#f92672">=</span>XXXXXXXX-01       /boot           vfat    defaults          <span style="color:#ae81ff">0</span>       <span style="color:#ae81ff">2</span>
    <span style="color:#75715e">#/dev/mmcblk0p1            /boot           vfat    defaults          0       2</span>
</code></pre></div><p>El root, puede aparecer identificado como <code>/dev/mmcblk0p2</code> o similar. Para evitar problemas, recomiendo cambiarlo por su PARTUUID como muestro arriba.</p>
<p>Al reiniciar, si ejecutamos <code>lsblk</code> veremos como ya está montando, tanto el root <code>/</code> del disco USB como <code>/boot</code> de la MicroSD, con lo cual, ya estamos arrancando con la MicroSD, pero utilizando el root del disco USB, y podemos tener todos los discos que necesitemos conectados, y nuestra Raspberry Pi continuará arrancado sin problemas!</p>
<p>Esta instalación, ha sido suponiendo que estamos haciendo una instalación de raspbian nueva, desde 0 en ambos discos. Si se quiere copiar la partición root de la MicroSD  al nuevo disco USB, conservando posibles cambios, es muy sencillo.</p>
<h3 id="22-copiando-la-partición-root-de-la-sd-al-disco-usb">2.2 Copiando la partición root de la SD al disco USB</h3>
<ul>
<li>Instalamos <code>rsync</code> si no lo estuviera</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo apt install rsync
</code></pre></div><ul>
<li>Montamos el disco USB (sustituir <code>sdX</code> por la de vuestro disco USB)</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo mount /dev/sdX /mnt
</code></pre></div><ul>
<li>Copiamos <code>/</code> de nuestra MicroSD al disco USB</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo rsync -axv / /mnt/
</code></pre></div><p>Una vez copiada la partición root en el disco USB, procedemos igual que en la parte 2.1</p>


  <hr style="border-color: #d6d6d6;" />


<p>Espero que sea útil, ¡gracias por leerme!</p>

  </div>

  <footer>
    <ul class="stats">
  <li class="categories">
    <ul>
        
            
            
                <i class="fa fa-folder"></i>
                
                
                <li><a class="article-category-link" href="https://rlodeiro.info/categories/raspberry-pi">Raspberry Pi</a></li>
                
            
        
    </ul>
  </li>
  <li class="tags">
    <ul>
        
            
            
                <i class="fa fa-tags"></i>
                
                
                <li><a class="article-category-link" href="https://rlodeiro.info/tags/boot">boot</a></li>
                
                
                <li><a class="article-category-link" href="https://rlodeiro.info/tags/usb">USB</a></li>
                
                
                <li><a class="article-category-link" href="https://rlodeiro.info/tags/raspberry">Raspberry</a></li>
                
            
        
    </ul>
  </li>
</ul>

  </footer>

</article>


<ul class="actions pagination">
    

    
        <li><a href="https://rlodeiro.info/blog/boostnote/"
                class="button big next">Boostnote</a></li>
    
</ul>


    </div>
    
<section id="sidebar">

  
  <section id="intro">
    
    
      
        <a href='https://rlodeiro.info/'><img src="https://rlodeiro.info/img/main/logo.jpg" class="intro-circle" width="" alt="" /></a>
      
    
    
      <header>
        <h2>Roberto Lodeiro</h2>
        <p>Reality is wrong. Dreams are for real.</p>
      </header>
    
    
      <ul class="icons">
        
          
    <li><a href="" type="application/rss+xml" target="_blank" title="RSS" class="fa fa-rss"></a></li>


        
        


























































  <li><a href="//twitter.com/lodeiro0001" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>



















  <li><a href="mailto:me@rlodeiro.info" title="Email" class="fa fa-envelope"></a></li>


      </ul>
    
  </section>

  
  <section class="recent-posts">
    <div class="mini-posts">
      <header>
        <h3>Publicaciones Recientes</h3>
      </header>
      <div class="posts-container">
        

        
          
        

        
          <article class="mini-post">
            <header>
              <h3>
                <a href="https://rlodeiro.info/blog/diun-avisos-actualizaciones-imagenes-docker/">Diun: Avisos de actualizaciones de imágenes Docker</a>
              </h3>
              
              <time class="published" datetime='2021-09-10'>
                10 de septiembre de 2021
              </time>
            </header>
            
    

    
        
        







  


        
        
        

        <a href="https://rlodeiro.info/blog/diun-avisos-actualizaciones-imagenes-docker/" class="image featured">
            <img src="https://rlodeiro.info/img/posts/2021/09/diun-avisos-actualizaciones-imagenes-docker/diun-avisos-actualizaciones-imagenes-docker.jpg" alt="">
        </a>
    


          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="https://rlodeiro.info/blog/actualizar-debian-10-a-debian-11-bullseye/">Actualizar Debian 10 a Debian 11 Bullseye</a>
              </h3>
              
              <time class="published" datetime='2021-08-14'>
                14 de agosto de 2021
              </time>
            </header>
            
    

    
        
        







  


        
        
        

        <a href="https://rlodeiro.info/blog/actualizar-debian-10-a-debian-11-bullseye/" class="image featured">
            <img src="https://rlodeiro.info/img/posts/2021/08/actualizar-debian-10-a-debian-11-bullseye/actualizar-debian-10-a-debian-11-bullseye.jpg" alt="">
        </a>
    


          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="https://rlodeiro.info/blog/ps5-ps4-remote-play-linux/">PS5 &amp; PS4: Remote Play en Linux</a>
              </h3>
              
              <time class="published" datetime='2021-08-06'>
                6 de agosto de 2021
              </time>
            </header>
            
    

    
        
        







  


        
        
        

        <a href="https://rlodeiro.info/blog/ps5-ps4-remote-play-linux/" class="image featured">
            <img src="https://rlodeiro.info/img/posts/2021/08/PS5-PS4-Remote-Play-Linux//PS5-PS4-Remote-Play-Linux.jpg" alt="">
        </a>
    


          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="https://rlodeiro.info/blog/dnie-linux/">DNI electrónico en Linux</a>
              </h3>
              
              <time class="published" datetime='2021-07-25'>
                25 de julio de 2021
              </time>
            </header>
            
    

    
        
        







  


        
        
        

        <a href="https://rlodeiro.info/blog/dnie-linux/" class="image featured">
            <img src="https://rlodeiro.info/img/posts/2021/07/dnie-linux//dnie-linux.jpg" alt="">
        </a>
    


          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="https://rlodeiro.info/blog/github-2fa-ssh/">GitHub: 2FA y claves SSH</a>
              </h3>
              
              <time class="published" datetime='2021-06-27'>
                27 de junio de 2021
              </time>
            </header>
            
    

    
        
        







  


        
        
        

        <a href="https://rlodeiro.info/blog/github-2fa-ssh/" class="image featured">
            <img src="https://rlodeiro.info/img/posts/2021/06/github-2fa-ssh//github-2fa-ssh.jpg" alt="">
        </a>
    


          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="https://rlodeiro.info/blog/raspberry-pi_swap-swappiness/">Raspberry Pi: Swap y Swappiness</a>
              </h3>
              
              <time class="published" datetime='2021-06-08'>
                8 de junio de 2021
              </time>
            </header>
            
    

    
        
        







  


        
        
        

        <a href="https://rlodeiro.info/blog/raspberry-pi_swap-swappiness/" class="image featured">
            <img src="https://rlodeiro.info/img/posts/2021/06/raspberry-pi_swap-swappiness//raspberry-pi_swap-swappiness.jpg" alt="">
        </a>
    


          </article>
        
      </div>

      
        <a href=
          
            /blog/
          
        class="button">Ver más entradas</a>
      
    </div>
  </section>

  
  
  
  
  
    <section id="categories">
      <header>
        <h3>
          <a href="https://rlodeiro.info/categories/">Categorías</a>
        </h3>
      </header>
        
          
        

        
        <p>
          <article>
            <header>
              
                <a href="https://rlodeiro.info/categories/herramientas/">herramientas</a>
                <span style="float:right;">6</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="https://rlodeiro.info/categories/iot/">iot</a>
                <span style="float:right;">2</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="https://rlodeiro.info/categories/linux/">linux</a>
                <span style="float:right;">17</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="https://rlodeiro.info/categories/raspberry-pi/">raspberry-pi</a>
                <span style="float:right;">6</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="https://rlodeiro.info/categories/servicios/">servicios</a>
                <span style="float:right;">8</span>
              
            </header>
          </article>
        </p>
        
    </section>
  
  

  
  
    <section id="mini-bio">
      <h3>Sobre Mi</h3>
      <p>¿De donde viene? ¿Cual es su color de pelo? ¿A que tribu urbana pertenece? Si estás muy aburrid@ y/o quieres saberlo ¡adelante!</p>
      <a href="https://rlodeiro.info/about/" class="button">Leer Más</a>
    </section>
  

  
  <section id="footer">
    
      <ul class="icons">
        
          
    <li><a href="" type="application/rss+xml" target="_blank" title="RSS" class="fa fa-rss"></a></li>


        
        


























































  <li><a href="//twitter.com/lodeiro0001" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>



















  <li><a href="mailto:me@rlodeiro.info" title="Email" class="fa fa-envelope"></a></li>


      </ul>
    
    <p class="copyright">
      
      © 2021 Roberto Lodeiro
      
    </p>
  </section>
</section>

    </div>
    <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
    

    
      
    

    
    
    
      <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.js"></script>
      <script src="https://rlodeiro.info/js/util.js"></script>
      <script src="https://rlodeiro.info/js/main.js"></script>
      <script src="https://rlodeiro.info/js/backToTop.js"></script>
    

    
      
        
      
        
          <script src="https://rlodeiro.info/js/highlight.min.js"></script>
        
      
    

    
    <script>hljs.initHighlightingOnLoad();</script>
      


  </body>
</html>

